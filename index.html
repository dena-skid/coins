<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Gems Bolak-Balik</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
            background-color: white;
            color: black;
            transition: background-color 0.5s, color 0.5s;
        }
        input {
            padding: 10px;
            font-size: 16px;
            margin: 10px;
            width: 200px;
        }
        #result {
            margin-top: 20px;
            font-size: 24px;
            color: purple;
        }
        .dark-mode {
            background-color: #333;
            color: white;
        }
        .toggle-button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #333;
                color: white;
            }
        }
    </style>
</head>
<body>

    <h1>Berapa kamu mau mengasih koins?</h1>
    <p>Masukkan jumlah koins atau gems dan hasilnya akan otomatis dihitung:</p>

    <input type="number" id="koinsInput" placeholder="Masukkan koins" oninput="calculateFromKoins()" />
    <input type="number" id="gemsInput" placeholder="Masukkan gems" oninput="calculateFromGems()" />

    <div id="result"></div>

    <button class="toggle-button" onclick="toggleDarkMode()">Toggle Dark Mode</button>

    <script>
        function calculateFromKoins() {
            var koins = parseInt(document.getElementById('koinsInput').value);
            var gems = 0;

            if (koins >= 1 && koins <= 4) {
                gems = koins * 400000;
            } else if (koins >= 5 && koins <= 9) {
                gems = koins * 400000;
            } else if (koins >= 10 && koins <= 99) {
                gems = koins * 420000;
            } else if (koins >= 100 && koins <= 499) {
                gems = koins * 430000;
            } else if (koins >= 500 && koins <= 999) {
                gems = koins * 440000;
            } else if (koins >= 1000) {
                gems = koins * 450000;
            }

            document.getElementById('gemsInput').value = formatNumber(gems);
        }

        function calculateFromGems() {
            var gems = parseInt(document.getElementById('gemsInput').value);
            var koins = 0;

            if (gems >= 400000 && gems < 420000) {
                koins = gems / 400000;
            } else if (gems >= 420000 && gems < 430000) {
                koins = gems / 420000;
            } else if (gems >= 430000 && gems < 440000) {
                koins = gems / 430000;
            } else if (gems >= 440000 && gems < 450000) {
                koins = gems / 440000;
            } else if (gems >= 450000) {
                koins = gems / 450000;
            }

            document.getElementById('koinsInput').value = koins.toFixed(0);
        }

        function formatNumber(num) {
            if (num >= 1e9) {
                return (num / 1e9).toFixed(2).replace('.00', '') + 'b'; // Millyaran
            } else if (num >= 1e6) {
                return (num / 1e6).toFixed(2).replace('.00', '') + 'm'; // Jutaan
            } else if (num >= 1e3) {
                return (num / 1e3).toFixed(2).replace('.00', '') + 'k'; // Ribuan
            } else {
                return num.toLocaleString(); // Tanpa singkatan
            }
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }

        // Periksa preferensi mode gelap pengguna saat membuka website
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.body.classList.add('dark-mode');
        }
    </script>

</body>
</html>
